{"version":3,"sources":["features/cart/cartSlice.js","app/Navbar.js","app/client.js","features/orders/ordersSlice.js","features/products/productsSlice.js","app/MainContent.js","app/productUtils.js","app/numberFormats.js","app/StoreModal.js","app/Loading.js","features/products/ProductDetails.js","features/products/ProductList.js","features/cart/Cart.js","features/orders/Orders.js","features/orders/OrderDetails.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["cartSlice","createSlice","name","initialState","reducers","addToCart","state","action","productId","payload","setQuantity","newQuantity","emptyCart","_","actions","selectCartSlice","numItems","useSelector","Object","keys","length","selectNumberOfItemsInCart","Container","Menu","stackable","borderless","NavbarItem","path","position","Icon","Label","circular","children","location","useLocation","Item","active","pathname","as","Link","to","replace","storage","window","localStorage","ordersKey","productsKey","promiseToReturn","resultFunc","removeItem","newOrder","id","uuid","order","date","Date","toISOString","substr","createdAt","now","orders","loadOrders","storeOrders","orderId","deleted","values","products","loadProducts","product","Error","update","storeProducts","updated","maxDelay","errorProb","Promise","resolve","reject","setTimeout","error","random","toFixed","getError","result","e","JSON","parse","getItem","setItem","stringify","item","productsById","initialProducts","reduce","initProducts","OrderStatus","orderStatusToText","orderStatus","entityAdapter","createEntityAdapter","sortComparer","a","b","ordersSliceName","selectOrdersSlice","orderSelectors","getSelectors","fetchAllOrders","createAsyncThunk","client","condition","getState","ordersState","selectTotal","loading","createOrder","cancelOrder","clearOrders","ordersSlice","getInitialState","latestOrder","clearing","extraReducers","builder","addCase","fulfilled","setAll","rejected","removeAll","pending","addOne","removeOne","addMatcher","type","endsWith","message","localeCompare","productsSliceName","selectProductsSlice","productSelectors","fetchAllProducts","productsState","modifyInventory","quantity","inventory","clearProducts","productsSlice","upsertOne","ClearButton","dispatch","useDispatch","productsClearing","ordersClearing","useState","clearButtonDisabled","setClearButtonDisabled","trigger","Button","Group","negative","icon","content","onClick","disabled","Segment","basic","compact","Popup","on","style","marginTop","Header","dividing","List","bulleted","relaxed","marginBottom","href","productImageSrc","process","currency","Intl","NumberFormat","render","modalOpen","setModalOpen","timeout","useEffect","timeoutID","clearTimeout","Modal","closeIcon","onClose","open","Loading","what","Loader","ProductDetails","match","useRouteMatch","selectById","params","loadError","addModalOpen","setAddModalOpen","Card","centered","fluid","Grid","container","Row","Column","className","width","Image","size","inline","src","textAlign","Content","Meta","format","price","Description","details","extra","primary","StoreModal","Message","selectAll","divided","map","loc","currentLoc","truncate","Extra","ProductRow","parseInt","handleQuantityChange","evt","target","value","Table","Cell","Input","label","title","min","max","defaultValue","onChange","CartTotal","cart","selectEntities","cartTotal","total","orderModalOpen","setOrderModalOpen","selectLatestOrder","striped","HeaderCell","Body","Footer","colSpan","remaining","unitPrice","status","Inline","OrderRow","orderUrl","Placeholder","Line","join","success","OrderProductRow","history","useHistory","totalPrice","setTotalPrice","handleCancel","forEach","productIds","celled","App","Navbar","OrderDetails","Orders","Cart","MainContent","ProductList","configureStore","reducer","productsReducer","ordersReducer","cartReducer","Boolean","hostname","ReactDOM","store","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a311ae94.chunk.js","sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\n\nexport const cartSlice = createSlice({\n    name: 'cart',\n    initialState: {},\n    reducers: {\n        addToCart: (state, action) => {\n            const productId = action.payload;\n            state[productId] |= 0;\n            state[productId]++;\n        },\n        setQuantity: (state, action) => {\n            const {productId, newQuantity} = action.payload;\n            state[productId] = newQuantity;\n            if (state[productId] <= 0) {\n                delete state[productId];\n            }\n        },\n        emptyCart: _ => ({}),\n    },\n});\n\nexport const {addToCart, emptyCart, setQuantity,} = cartSlice.actions;\n\nexport const selectCartSlice = state => state[cartSlice.name];\n\nexport const selectNumberOfItemsInCart = state => Object.keys(selectCartSlice(state)).length;\n\nexport default cartSlice.reducer;","import {Container, Icon, Label, Menu} from \"semantic-ui-react\";\nimport {Link, useLocation} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport {selectNumberOfItemsInCart} from \"../features/cart/cartSlice\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => {\n    const numItems = useSelector(state => selectNumberOfItemsInCart(state));\n    return (\n        <Container>\n            <Menu stackable borderless>\n                <NavbarItem path='/main'>Main</NavbarItem>\n                <NavbarItem path='/products'>Products</NavbarItem>\n                <Menu.Menu position='right'>\n                    <NavbarItem path='/orders'>\n                        My Orders\n                    </NavbarItem>\n                    <NavbarItem path='/cart'>\n                        <Icon name='shopping cart'/>Shopping cart\n                        {numItems ? <Label circular>{numItems}</Label> : null}\n                    </NavbarItem>\n                </Menu.Menu>\n            </Menu>\n        </Container>\n    );\n}\n\nfunction NavbarItem({path, children}) {\n    const location = useLocation();\n    return (\n        <Menu.Item active={location.pathname === path} as={Link} to={path} replace>\n            {children}\n        </Menu.Item>\n    );\n}","import initialProducts from '../data/products.json';\nimport {random} from 'lodash/number'\nimport {v4 as uuid} from 'uuid';\n\nconst storage = window.localStorage;\n\n// noinspection SpellCheckingInspection\nconst ordersKey = 'me.stenman.orders';\n\n// noinspection SpellCheckingInspection\nconst productsKey = 'me.stenman.products';\n\nexport const getProductById = id => {\n    return promiseToReturn({\n        resultFunc: () => {\n            const products = loadProducts();\n            if (id in products) {\n                return {\n                    product: products[id],\n                }\n            }\n            throw new Error(`no product found matching id ${id}`);\n        },\n    });\n};\n\nexport const getProductsByIds = ids => {\n    return promiseToReturn({\n        resultFunc: () => {\n            const idSet = new Set(ids);\n            const products = loadProducts();\n            const requestedProducts = idSet.keys().reduce((ary, productId) => {\n                if (products[productId]) {\n                    ary.push(products[productId]);\n                }\n                return ary;\n            }, []);\n            return {\n                products: requestedProducts,\n            };\n        },\n    });\n};\n\nexport const getAllProducts = () => {\n    return promiseToReturn({\n        resultFunc: () => ({\n            products: Object.values(loadProducts())\n        }),\n    });\n};\n\nexport const updateProduct = update => {\n    return promiseToReturn({\n        resultFunc: () => {\n            const products = loadProducts();\n            if (update.id in products) {\n                products[update.id] = {\n                    ...products[update.id],\n                    ...update,\n                };\n                storeProducts(products);\n                return {\n                    updated: products[update.id],\n                };\n            }\n            throw new Error(`No product found with id ${update.id}.`);\n        },\n    });\n};\n\nexport const getAllOrders = () => {\n    return promiseToReturn({\n        resultFunc: () => ({\n            orders: Object.values(loadOrders())\n        }),\n    });\n};\n\nexport const createOrder = newOrder => {\n    return promiseToReturn({\n        resultFunc: () => {\n            const id = uuid();\n            const order = {\n                ...newOrder,\n                id,\n                date: new Date().toISOString().substr(0, 10),\n                createdAt: Date.now(),\n            };\n            const orders = loadOrders();\n            orders[id] = order;\n            storeOrders(orders);\n            return {\n                order,\n            }\n        },\n    });\n};\n\nexport const deleteOrder = orderId => {\n    return promiseToReturn({\n        resultFunc: () => {\n            const orders = loadOrders();\n            delete orders[orderId]\n            storeOrders(orders);\n            return {\n                deleted: orderId,\n            }\n        },\n    });\n};\n\nconst clearOrders = () => promiseToReturn({\n    resultFunc: () => {\n        storage.removeItem(ordersKey);\n    },\n});\n\nconst clearProducts = () => promiseToReturn({\n    resultFunc: () => {\n        storage.removeItem(productsKey);\n    },\n});\n\nexport const hasDataInStorage = () => storage.getItem(ordersKey) !== null || storage.getItem(productsKey) !== null;\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    clearOrders,\n    clearProducts,\n    createOrder,\n    deleteOrder,\n    getAllOrders,\n    getAllProducts,\n    getProductById,\n    getProductsByIds,\n    updateProduct,\n};\n\nfunction getError(errorProb) {\n    if (random(1, true) <= errorProb) {\n        return `A fake API error occurred. Error probability\n        ${(errorProb * 100).toFixed()}% is adjustable in client.js.`;\n    }\n    return null;\n}\n\nfunction promiseToReturn({resultFunc = () => undefined, maxDelay = 5000, errorProb = 0.0}) {\n    return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                    const error = getError(errorProb);\n                    if (error) {\n                        reject(new Error(error))\n                    } else {\n                        let result;\n                        try {\n                            result = resultFunc();\n                        } catch (e) {\n                            reject(e);\n                        }\n                        resolve(result);\n                    }\n                },\n                random(maxDelay)\n            );\n        }\n    );\n}\n\nfunction loadOrders() {\n    return JSON.parse(storage.getItem(ordersKey) || '{}');\n}\n\nfunction storeOrders(orders) {\n    storage.setItem(ordersKey, JSON.stringify(orders));\n}\n\nfunction initProducts() {\n    const productsById = initialProducts.reduce((productsById, product) => {\n        productsById[product.id] = product;\n        return productsById;\n    }, {});\n    storeProducts(productsById);\n    return productsById;\n}\n\nfunction loadProducts() {\n    const item = storage.getItem(productsKey);\n    return item ? JSON.parse(item) : initProducts();\n}\n\nfunction storeProducts(products) {\n    storage.setItem(productsKey, JSON.stringify(products));\n}","import {createAsyncThunk, createEntityAdapter, createSlice} from \"@reduxjs/toolkit\";\nimport client from \"../../app/client\";\n\nexport const OrderStatus = {\n    ordered: 'ordered',\n    waitingForProducts: 'waitingForProducts',\n};\n\nexport function orderStatusToText(orderStatus) {\n    switch (orderStatus) {\n        case OrderStatus.ordered:\n            return 'ordered';\n        case OrderStatus.waitingForProducts:\n            return 'waiting for products';\n        default:\n            return '';\n    }\n}\n\nconst entityAdapter = createEntityAdapter({\n    sortComparer: (a, b) => b.createdAt - a.createdAt,\n});\n\nconst ordersSliceName = 'orders';\n\nexport const selectOrdersSlice = state => state[ordersSliceName];\n\nexport const selectLatestOrder = state => selectOrdersSlice(state).latestOrder;\n\nexport const orderSelectors = entityAdapter.getSelectors(state => selectOrdersSlice(state));\n\nexport const fetchAllOrders = createAsyncThunk(\n    'orders/fetchAllOrders',\n    async (_) => {\n        return client.getAllOrders();\n    },\n    {\n        condition: (_, {getState}) => {\n            const ordersState = selectOrdersSlice(getState());\n            const total = entityAdapter.getSelectors().selectTotal(ordersState);\n            return total === 0 && !ordersState.loading;\n        },\n    },\n);\n\nexport const createOrder = createAsyncThunk(\n    'orders/createOrder',\n    async newOrder => {\n        return client.createOrder(newOrder);\n    },\n);\n\nexport const cancelOrder = createAsyncThunk(\n    'orders/cancelOrder',\n    async orderId => {\n        return client.deleteOrder(orderId);\n    },\n);\n\nexport const clearOrders = createAsyncThunk(\n    'orders/clearOrders',\n    async () => {\n        return client.clearOrders();\n    },\n);\n\nexport const ordersSlice = createSlice({\n    name: ordersSliceName,\n    initialState: entityAdapter.getInitialState({\n        loading: false,\n        error: null,\n        latestOrder: null,\n        clearing: false,\n    }),\n    reducers: {},\n    extraReducers: builder => {\n        builder\n            .addCase(fetchAllOrders.fulfilled, (state, action) => {\n                entityAdapter.setAll(state, action.payload.orders);\n            })\n            .addCase(fetchAllOrders.rejected, state => {\n                entityAdapter.removeAll(state);\n            })\n            .addCase(createOrder.pending, state => {\n                state.latestOrder = null;\n            })\n            .addCase(createOrder.fulfilled, (state, action) => {\n                state.latestOrder = action.payload.order;\n                entityAdapter.addOne(state, action.payload.order);\n            })\n            .addCase(cancelOrder.fulfilled, (state, action) => {\n                entityAdapter.removeOne(state, action.payload.deleted);\n            })\n            .addCase(clearOrders.pending, state => {\n                state.clearing = true;\n            })\n            .addCase(clearOrders.rejected, state => {\n                state.clearing = false;\n            })\n            .addCase(clearOrders.fulfilled, (state) => {\n                entityAdapter.removeAll(state);\n                state.clearing = false;\n            })\n            .addMatcher(action => action.type.endsWith('/pending'), state => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addMatcher(action => action.type.endsWith('/fulfilled'), state => {\n                state.loading = false;\n                state.error = null;\n            })\n            .addMatcher(action => action.type.endsWith('/rejected'), (state, action) => {\n                state.loading = false;\n                state.error = action.error.message;\n            })\n        ;\n    },\n});\n\nexport default ordersSlice.reducer;","import {createAsyncThunk, createEntityAdapter, createSlice} from \"@reduxjs/toolkit\";\nimport client from \"../../app/client\";\n\nconst entityAdapter = createEntityAdapter({\n    sortComparer: (a, b) => a.name.localeCompare(b.name),\n});\n\nconst productsSliceName = 'products';\n\nexport const selectProductsSlice = state => state[productsSliceName];\n\nexport const productSelectors = entityAdapter.getSelectors(state => selectProductsSlice(state));\n\nexport const fetchAllProducts = createAsyncThunk(\n    'products/fetchAllProducts',\n    async (_) => {\n        return await client.getAllProducts();\n    },\n    {\n        condition: (_, {getState}) => {\n            const productsState = selectProductsSlice(getState());\n            const total = entityAdapter.getSelectors().selectTotal(productsState);\n            return total === 0 && !productsState.loading;\n        },\n    }\n);\n\nexport const modifyInventory = createAsyncThunk(\n    'products/modifyInventory',\n    async ({productId, quantity}) => {\n        let {product: {id, inventory}} = await client.getProductById(productId);\n        inventory += quantity;\n        return client.updateProduct({\n            id,\n            inventory,\n        });\n    },\n);\n\nexport const clearProducts = createAsyncThunk(\n    'products/clearProducts',\n    async () => {\n        return client.clearProducts();\n    }\n);\n\nexport const productsSlice = createSlice({\n    name: productsSliceName,\n    initialState: entityAdapter.getInitialState({\n        loading: false,\n        error: null,\n        clearing: false,\n    }),\n    reducers: {},\n    extraReducers: builder => {\n        builder\n            .addCase(fetchAllProducts.fulfilled, (state, action) => {\n                entityAdapter.setAll(state, action.payload.products);\n            })\n            .addCase(fetchAllProducts.rejected, state => {\n                entityAdapter.removeAll(state);\n            })\n            .addCase(modifyInventory.fulfilled, (state, action) => {\n                entityAdapter.upsertOne(state, action.payload.updated);\n            })\n            .addCase(clearProducts.rejected, state => {\n                state.clearing = false;\n            })\n            .addCase(clearProducts.pending, state => {\n                state.clearing = true;\n            })\n            .addCase(clearProducts.fulfilled, state => {\n                entityAdapter.removeAll(state);\n                state.clearing = false;\n            })\n            .addMatcher(action => action.type.endsWith('/pending'), state => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addMatcher(action => action.type.endsWith('/fulfilled'), state => {\n                state.loading = false;\n                state.error = null;\n            })\n            .addMatcher(action => action.type.endsWith('/rejected'), (state, action) => {\n                state.loading = false;\n                state.error = action.error.message;\n            })\n        ;\n    },\n});\n\nexport default productsSlice.reducer;","import {Button, Container, Header, List, Popup, Segment} from \"semantic-ui-react\";\nimport React, {useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {clearOrders, selectOrdersSlice} from \"../features/orders/ordersSlice\";\nimport {clearProducts, selectProductsSlice} from \"../features/products/productsSlice\";\nimport {hasDataInStorage} from \"./client\";\n\nfunction ClearButton() {\n    const dispatch = useDispatch();\n    const productsClearing = useSelector(state => selectProductsSlice(state).clearing);\n    const ordersClearing = useSelector(state => selectOrdersSlice(state).clearing);\n    const [clearButtonDisabled, setClearButtonDisabled] = useState(!hasDataInStorage());\n\n    function isClearing() {\n        return productsClearing || ordersClearing;\n    }\n\n    function handleClear() {\n        setClearButtonDisabled(true);\n        // Handle local storage clearing through Redux, so that both states will match.\n        dispatch(clearOrders());\n        dispatch(clearProducts());\n    }\n\n    const trigger = (\n        // If the button isn't wrapped in anything, and happens to be disabled,\n        // the Popup tooltip won't show.\n        <Button.Group>\n            <Button\n                negative\n                icon='trash alternate'\n                content='Clear local storage area'\n                onClick={() => handleClear()}\n                disabled={clearButtonDisabled}\n                loading={isClearing()}\n            />\n        </Button.Group>\n    );\n\n    const content = clearButtonDisabled ? (\n        <Segment basic compact>\n            <p>No data in this application's local storage area.</p>\n            <p>An easy way to load some is to visit the Products page.</p>\n        </Segment>\n    ) : (\n        <Segment basic compact>\n            <p>Click to remove this application's data from the local storage area.</p>\n        </Segment>\n    );\n\n    return (\n        <Popup\n            content={content}\n            trigger={trigger}\n            on={['hover', 'click']}\n            position='bottom left'\n        />\n    );\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => (\n    <Container style={{marginTop: '2em'}}>\n        <ClearButton/>\n        <Header as='h2' dividing>Demo Online Store</Header>\n        <p>\n            This web application demonstrates the following features usually found in any online store\n            website:\n        </p>\n        <List bulleted relaxed style={{marginTop: '2em', marginBottom: '2em'}}>\n            <List.Item>A list of products can be browsed.</List.Item>\n            <List.Item>The details of any product can be viewed.</List.Item>\n            <List.Item>Products can be added into a shopping cart.</List.Item>\n            <List.Item>The contents of the shopping cart can be manipulated before ordering.</List.Item>\n            <List.Item>The list of orders can be viewed.</List.Item>\n            <List.Item>The details of any order can be viewed.</List.Item>\n            <List.Item>An order can be cancelled.</List.Item>\n            <List.Item>Product inventories change when orders are placed or cancelled.</List.Item>\n            <List.Item>A navigation bar is always visible at the top of the page.</List.Item>\n        </List>\n        <Header as='h2' dividing>Implementation aspects</Header>\n        <p>\n            A few implementation details worth mentioning:\n        </p>\n        <List bulleted relaxed style={{marginTop: '2em', marginBottom: '2em'}}>\n            <List.Item>\n                This application is an implementation of <a\n                href='https://github.com/florinpop17/app-ideas/blob/master/Projects/2-Intermediate/Simple-Online-Store.md'>\n                this app-idea</a>.\n            </List.Item>\n            <List.Item>\n                The application is a <a href='https://en.wikipedia.org/wiki/Single-page_application'>Single\n                Page Application</a> working entirely inside the browser.\n            </List.Item>\n            <List.Item>\n                The application currently has no database integration. Instead, it stores all product and order data\n                in <a href='https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage'>the local\n                storage area</a> of the user's browser. There's a button to explicitly clear this application's\n                local storage area at the top of this page.\n            </List.Item>\n            <List.Item>\n                A client library, which simulates asynchronous client-server communication using <a\n                href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise'>Promises</a>,\n                is used between the app state and the actual storage area.\n            </List.Item>\n        </List>\n        <Header as='h2' dividing>Implementation techniques</Header>\n        <p>\n            The application utilizes the following techniques and libraries:\n        </p>\n        <List bulleted relaxed style={{marginTop: '2em', marginBottom: '2em'}}>\n            <List.Item>\n                All code is <a href='https://www.w3schools.com/Js/js_2018.asp'>ECMAScript 2018</a>.\n            </List.Item>\n            <List.Item>\n                The initial project structure was created using <a\n                href='https://create-react-app.dev'>Create React App</a> with <a\n                href='https://www.npmjs.com/package/cra-template-redux'>the Redux template</a>.\n            </List.Item>\n            <List.Item>\n                All components are <a href='https://reactjs.org/docs/components-and-props.html'>React Function\n                Components</a>.\n            </List.Item>\n            <List.Item>\n                Application state is managed using <a href='https://reactjs.org/docs/hooks-intro.html'>React\n                Hooks</a> and <a href='https://redux-toolkit.js.org'>Redux Toolkit</a>.\n            </List.Item>\n            <List.Item>\n                Navigation within the application is managed by <a href='https://reactrouter.com'>React Router</a>.\n            </List.Item>\n            <List.Item>\n                UI components come from <a href='https://react.semantic-ui.com'>Semantic UI React</a>\n            </List.Item>\n            <List.Item>\n                Some utility functions from <a href='https://lodash.com'>Lodash</a> are used.\n            </List.Item>\n        </List>\n        <Header as='h2' dividing>What next?</Header>\n        <p>\n            The app is pretty basic in its current state. Here are some ideas of what to add\n            next:\n        </p>\n        <List bulleted relaxed style={{marginTop: '2em', marginBottom: '2em'}}>\n            <List.Item>\n                As the main purpose of developing this app was to explore <a\n                href='https://reactjs.org'>React</a> and related technologies, and time was limited, unit tests were\n                omitted.\n            </List.Item>\n            <List.Item>\n                There's no login/logout functionality for users.\n            </List.Item>\n            <List.Item>\n                Could use a real database with a backend service.\n            </List.Item>\n            <List.Item>\n                The app only speaks English. It could do with some l10n love.\n            </List.Item>\n            <List.Item>\n                Neither the products nor the orders listings are paged.\n            </List.Item>\n        </List>\n        <Header as='h2' dividing>Image credits</Header>\n        <p>\n            The images used in this app were downloaded from <a href='https://creativecommons.org'>the Creative\n            Commons website</a>. Here are the credits to their creators:\n        </p>\n        <List bulleted relaxed style={{marginTop: '2em', marginBottom: '2em'}}>\n            <List.Item>\n                \"Fruit salad\" by lisaclarke is licensed with CC BY-ND 2.0. To view a copy of this license, visit\n                &nbsp;<a\n                href='https://creativecommons.org/licenses/by-nd/2.0/'>https://creativecommons.org/licenses/by-nd/2.0/</a>\n            </List.Item>\n            <List.Item>\n                \"Fruit Veggie Art\" by NicoleMariePhotoworks is licensed with CC BY 2.0. To view a copy of this\n                license, visit <a\n                href='https://creativecommons.org/licenses/by/2.0/'>https://creativecommons.org/licenses/by/2.0/</a>\n            </List.Item>\n            <List.Item>\n                \"Fruit for a crisp\" by lisaclarke is licensed under CC BY-ND 2.0\n            </List.Item>\n            <List.Item>\n                \"Fruits on a plate (testing iPhone 6+)\" by Sergey Galyonkin is licensed under CC BY-SA 2.0\n            </List.Item>\n            <List.Item>\n                \"#napoli #market #antignano #frutta #fruits #clementine\" by Antonio Manfredonio is licensed under CC\n                BY-SA 2.0\n            </List.Item>\n            <List.Item>\n                \"strawberries\" by seelensturm is licensed under CC BY 2.0\n            </List.Item>\n            <List.Item>\n                \"File:Grapes Emoji.png\" by EmmanuelCordoliani is licensed under CC BY-SA 4.0\n            </List.Item>\n        </List>\n    </Container>\n)","export function productImageSrc(productId) {\n    return `${process.env.PUBLIC_URL}/product_pics/${productId}.jpeg`;\n}\n\nconst utils = {\n    imageSrc: productImageSrc,\n};\n\nexport default utils;","export const currency = new Intl.NumberFormat('fi-FI', {\n    style: 'currency',\n    currency: 'EUR',\n});\nconst numberFormats = {\n    currency,\n};\nexport default numberFormats;","import {useEffect} from \"react\";\nimport {Modal} from \"semantic-ui-react\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ({render, modalOpen, setModalOpen, timeout}) => {\n    useEffect(() => {\n        let timeoutID = null;\n        if (timeout) {\n            timeoutID = setTimeout(() => setModalOpen(false), timeout);\n        }\n        return () => timeoutID && clearTimeout(timeoutID);\n    });\n\n    return (\n        <Modal\n            closeIcon\n            onClose={() => setModalOpen(false)}\n            open={modalOpen}\n        >\n            {render()}\n        </Modal>\n    );\n};","import {Loader} from \"semantic-ui-react\";\n\nexport default function Loading({what}) {\n    return (\n        <Loader active content={`Loading ${what}...`}/>\n    );\n}","import {Button, Card, Container, Grid, Image, Message, Modal} from \"semantic-ui-react\";\nimport {Link, useRouteMatch} from \"react-router-dom\";\nimport {productImageSrc} from \"../../app/productUtils\";\nimport {currency} from \"../../app/numberFormats\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchAllProducts, productSelectors, selectProductsSlice} from \"./productsSlice\";\nimport {useEffect, useState} from \"react\";\nimport {addToCart} from \"../cart/cartSlice\";\nimport StoreModal from \"../../app/StoreModal\";\nimport Loading from \"../../app/Loading\";\n\nexport default function ProductDetails() {\n    const match = useRouteMatch();\n    const product = useSelector(state => productSelectors.selectById(state, match.params.productId));\n    const loading = useSelector(state => selectProductsSlice(state).loading);\n    const loadError = useSelector(state => selectProductsSlice(state).error);\n    const dispatch = useDispatch();\n    const [addModalOpen, setAddModalOpen] = useState(false);\n\n    useEffect(() => {\n        dispatch(fetchAllProducts());\n    }, [dispatch]);\n\n    function handleAddClick(productId) {\n        dispatch(addToCart(productId));\n        setAddModalOpen(true);\n    }\n\n    if (product) {\n        return (\n            <Container>\n                <Card centered fluid>\n                    <Grid stackable container>\n                        <Grid.Row>\n                            <Grid.Column>\n                                <Card.Header>\n                                    <span className='meta'>{product.id}</span>\n                                    <span>&nbsp;</span>\n                                    <span>{product.name}</span>\n                                </Card.Header>\n                            </Grid.Column>\n                        </Grid.Row>\n                        <Grid.Row>\n                            <Grid.Column width='3'>\n                                <Image size='small' inline src={productImageSrc(product.id)}/>\n                            </Grid.Column>\n                            <Grid.Column width='13' textAlign='justified'>\n                                <Card.Content>\n                                    <Card.Meta>\n                                        <span className='price'>{currency.format(product.price || 0)}</span>\n                                    </Card.Meta>\n                                    <Card.Description>\n                                        {product.details}\n                                    </Card.Description>\n                                </Card.Content>\n                                <Card.Content extra>\n                                    <Card.Meta>\n                                        <span>In stock: {product.inventory}</span>\n                                    </Card.Meta>\n                                </Card.Content>\n                            </Grid.Column>\n                        </Grid.Row>\n                        <Grid.Row>\n                            <Grid.Column>\n                                <Button.Group>\n                                    <Button icon='arrow alternate circle left outline' content='See more products'\n                                            as={Link}\n                                            to='/products'/>\n                                    <Button primary icon='add to cart' content='Add to cart'\n                                            onClick={() => handleAddClick(match.params.productId)}/>\n                                </Button.Group>\n                            </Grid.Column>\n                        </Grid.Row>\n                    </Grid>\n                </Card>\n                <StoreModal\n                    modalOpen={addModalOpen}\n                    setModalOpen={setAddModalOpen}\n                    timeout={5000}\n                    render={() => (\n                        <>\n                            <Modal.Header>\n                                One of <i>{product.name}</i> added in <Link to='/cart' replace>cart</Link>.\n                            </Modal.Header>\n                            <Modal.Content>\n                                <Image size='tiny' inline src={productImageSrc(product.id)}/>\n                            </Modal.Content>\n                        </>\n                    )}\n                />\n            </Container>\n        );\n    }\n\n    if (loading) {\n        return <Loading what='product'/>;\n    }\n\n    if (loadError) {\n        return <Message error content={loadError}/>\n    }\n\n    return null;\n}","import {Button, Item, Message} from \"semantic-ui-react\";\nimport {currency} from \"../../app/numberFormats\";\nimport {truncate} from \"lodash/string\";\nimport {Link} from \"react-router-dom\";\nimport {productImageSrc} from \"../../app/productUtils\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchAllProducts, productSelectors, selectProductsSlice} from \"./productsSlice\";\nimport {useEffect} from \"react\";\nimport Loading from \"../../app/Loading\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => {\n\n    const dispatch = useDispatch();\n    const products = useSelector(state => productSelectors.selectAll(state));\n    const loading = useSelector(state => selectProductsSlice(state).loading);\n    const loadError = useSelector(state => selectProductsSlice(state).error);\n\n    useEffect(() => {\n        dispatch(fetchAllProducts());\n    }, [dispatch]);\n\n    function itemLoc(currentLoc, productId) {\n        return {\n            ...currentLoc,\n            pathname: `${currentLoc.pathname}/${productId}`,\n        };\n    }\n\n    if (products && products.length) {\n        return (\n            <Item.Group divided>\n                {products.map(product => (\n                    <Item key={product.id} as={Link} to={loc => itemLoc(loc, product.id)}>\n                        <Item.Image size='tiny' src={productImageSrc(product.id)}/>\n                        <Item.Content>\n                            <Item.Header>{product.name}</Item.Header>\n                            <Item.Meta>\n                                <span className='price'>{currency.format(product.price || 0)}</span>\n                            </Item.Meta>\n                            <Item.Description>\n                                {truncate(product.details, {length: 200})}\n                            </Item.Description>\n                            <Item.Extra>\n                                <Button>Select</Button>\n                            </Item.Extra>\n                        </Item.Content>\n                    </Item>\n                ))}\n            </Item.Group>\n        );\n    }\n\n    if (loading) {\n        return <Loading what='products'/>;\n    }\n\n    if (loadError) {\n        return <Message error content={loadError}/>\n    }\n\n    return null;\n}","import {Button, Input, Modal, Segment, Table} from \"semantic-ui-react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {emptyCart, selectCartSlice, setQuantity} from \"./cartSlice\";\nimport {productSelectors, modifyInventory} from \"../products/productsSlice\";\nimport {currency} from \"../../app/numberFormats\";\nimport {Link} from \"react-router-dom\";\nimport {createOrder, OrderStatus, selectLatestOrder} from \"../orders/ordersSlice\";\nimport {useState} from \"react\";\nimport StoreModal from \"../../app/StoreModal\";\nimport Loading from \"../../app/Loading\";\n\nfunction ProductRow({productId}) {\n    const product = useSelector(state => productSelectors.selectById(state, parseInt(productId)));\n    const quantity = useSelector(state => selectCartSlice(state)[product.id]);\n    const dispatch = useDispatch();\n\n    function handleQuantityChange(evt) {\n        const newQuantity = parseInt(evt.target.value);\n        dispatch(setQuantity({productId: product.id, newQuantity}));\n    }\n\n    if (product) {\n        // noinspection JSUnresolvedVariable\n        return (\n            <Table.Row>\n                <Table.Cell><Link to={`/products/${product.id}`}>{product.id}</Link></Table.Cell>\n                <Table.Cell>{product.name}</Table.Cell>\n                <Table.Cell>{currency.format(product.price || 0)}</Table.Cell>\n                <Table.Cell>\n                    <Input\n                        fluid\n                        label={<Button\n                            icon='remove'\n                            onClick={() => handleQuantityChange({target: {value: 0}})}\n                            title='remove'\n                        />}\n                        type='number'\n                        min={1}\n                        max={product.inventory}\n                        defaultValue={quantity}\n                        onChange={handleQuantityChange}\n                    />\n                </Table.Cell>\n            </Table.Row>\n        );\n    }\n    return null;\n}\n\nfunction CartTotal() {\n    const cart = useSelector(state => selectCartSlice(state));\n    const products = useSelector(state => productSelectors.selectEntities(state));\n    const cartTotal = Object.keys(cart).reduce(\n        (total, productId) => total + cart[productId] * products[parseInt(productId)].price, 0.0\n    );\n    return (\n        <span>Cart total:&nbsp;<strong>{currency.format(cartTotal)}</strong></span>\n    );\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => {\n    const cart = useSelector(state => selectCartSlice(state));\n    const dispatch = useDispatch();\n    const products = useSelector(state => productSelectors.selectEntities(state));\n    const [orderModalOpen, setOrderModalOpen] = useState(false);\n    const latestOrder = useSelector(state => selectLatestOrder(state));\n\n    function assembleOrder() {\n        return Object.keys(cart).reduce((order, productId) => {\n            const product = products[parseInt(productId)];\n            const quantity = cart[productId];\n            // noinspection JSUnresolvedVariable\n            const remaining = product.inventory - quantity;\n            if (!order.products[productId]) {\n                order.products[productId] = {\n                    unitPrice: product.price,\n                    quantity,\n                };\n            }\n            if (order.status !== OrderStatus.waitingForProducts) {\n                // any product not in stock will set order status to 'waiting for products'\n                order.status = remaining < 0 ? OrderStatus.waitingForProducts : OrderStatus.ordered;\n            }\n            dispatch(modifyInventory({\n                productId: product.id,\n                quantity: -quantity,\n            }));\n            return order;\n        }, {products: {}});\n    }\n\n    function handlePlaceOrder() {\n        dispatch(createOrder(assembleOrder()));\n        dispatch(emptyCart());\n        setOrderModalOpen(true);\n    }\n\n    function orderModal() {\n        if (latestOrder) {\n            return (\n                <StoreModal\n                    modalOpen={orderModalOpen}\n                    setModalOpen={setOrderModalOpen}\n                    render={() => (\n                        <>\n                            <Modal.Header>\n                                Thank you for your order!\n                            </Modal.Header>\n                            <Modal.Content>\n                                <Segment.Group>\n                                    <Segment.Inline>\n                                        <Link to={`/orders/${latestOrder.id}`} replace>View this order.</Link>\n                                    </Segment.Inline>\n                                    <Segment.Inline>\n                                        You can view all your orders on the <Link to='/orders' replace>Orders\n                                        page</Link>\n                                    </Segment.Inline>\n                                </Segment.Group>\n                            </Modal.Content>\n                        </>\n                    )}\n                />\n            );\n        }\n        if (orderModalOpen) {\n            return <Loading what='order'/>\n        }\n        return null;\n    }\n\n    return (\n        <>\n            <Table striped>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell width='1'>ID</Table.HeaderCell>\n                        <Table.HeaderCell width='10'>Name</Table.HeaderCell>\n                        <Table.HeaderCell width='3'>Unit Price</Table.HeaderCell>\n                        <Table.HeaderCell width='2'>Quantity</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {Object.keys(cart).map(productId => (\n                        <ProductRow key={productId} productId={productId}/>\n                    ))}\n                </Table.Body>\n                <Table.Footer>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan='4'>\n                            <CartTotal/>\n                        </Table.HeaderCell>\n                    </Table.Row>\n                </Table.Footer>\n            </Table>\n            <Button.Group>\n                <Button\n                    as={Link}\n                    content='See more products'\n                    icon='arrow alternate circle left outline'\n                    to='/products'\n                />\n                <Button\n                    content='Cancel order'\n                    disabled={Object.keys(cart).length === 0}\n                    icon='trash alternate'\n                    negative\n                    onClick={() => dispatch(emptyCart())}\n                />\n                <Button\n                    content='Place order'\n                    disabled={Object.keys(cart).length === 0}\n                    icon='share square'\n                    onClick={handlePlaceOrder}\n                    primary\n                />\n            </Button.Group>\n\n            {orderModal()}\n        </>\n    );\n}","import {Message, Placeholder, Table} from \"semantic-ui-react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchAllOrders, orderSelectors, orderStatusToText, selectOrdersSlice} from \"./ordersSlice\";\nimport {Link, useLocation} from \"react-router-dom\";\nimport {fetchAllProducts, productSelectors, selectProductsSlice} from \"../products/productsSlice\";\nimport {useEffect} from \"react\";\nimport Loading from \"../../app/Loading\";\nimport {truncate} from \"lodash/string\";\n\nfunction OrderRow({order}) {\n    const location = useLocation();\n    const dispatch = useDispatch();\n    const productsById = useSelector(state => productSelectors.selectEntities(state));\n    const loading = useSelector(state => selectProductsSlice(state).loading);\n    const loadError = useSelector(state => selectProductsSlice(state).error);\n\n    useEffect(() => {\n        dispatch(fetchAllProducts());\n    }, [dispatch]);\n\n    function orderContents() {\n        if (loading) {\n            return (\n                <Placeholder fluid>\n                    <Placeholder.Line/>\n                    <Placeholder.Line/>\n                </Placeholder>\n            );\n        }\n\n        if (loadError) {\n            return <Message error content={loadError}/>\n        }\n\n        const truncatedNames = Object.keys(order.products).map(productId => {\n            const product = productsById[parseInt(productId)];\n            if (product) {\n                return truncate(product.name, {length: 20});\n            }\n            return '';\n        });\n\n        return truncatedNames.join(', ');\n    }\n\n    const orderUrl = `${location.pathname}/${order.id}`;\n\n    return (\n        <Table.Row>\n            <Table.Cell>{order.date}</Table.Cell>\n            <Table.Cell>{orderStatusToText(order.status)}</Table.Cell>\n            <Table.Cell>\n                <Link to={orderUrl}>{order.id}</Link>\n            </Table.Cell>\n            <Table.Cell>\n                {orderContents()}\n            </Table.Cell>\n        </Table.Row>\n    );\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => {\n    const dispatch = useDispatch();\n    const orders = useSelector(state => orderSelectors.selectAll(state));\n    const loading = useSelector(state => selectOrdersSlice(state).loading);\n    const loadError = useSelector(state => selectOrdersSlice(state).error);\n\n    useEffect(() => {\n        dispatch(fetchAllOrders());\n    }, [dispatch]);\n\n    if (loading) {\n        return <Loading what='orders'/>;\n    }\n\n    if (loadError) {\n        return <Message error content={loadError}/>\n    }\n\n    if (orders) {\n        if (orders.length === 0) {\n            return (\n                <Message success>You have no orders.</Message>\n            );\n        }\n        return (\n            <>\n                <Table striped>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell width={2}>Date</Table.HeaderCell>\n                            <Table.HeaderCell width={3}>Status</Table.HeaderCell>\n                            <Table.HeaderCell width={5}>ID</Table.HeaderCell>\n                            <Table.HeaderCell width={6}>Contents</Table.HeaderCell>\n                        </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                        {orders.map(order => (\n                            <OrderRow key={order.id} order={order}/>\n                        ))}\n                    </Table.Body>\n                </Table>\n            </>\n        );\n    }\n\n    return null;\n}","import {Link, useHistory, useRouteMatch} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {cancelOrder, fetchAllOrders, orderSelectors, orderStatusToText, selectOrdersSlice} from \"./ordersSlice\";\nimport {Button, Grid, Image, Message, Placeholder, Table} from \"semantic-ui-react\";\nimport {fetchAllProducts, modifyInventory, productSelectors, selectProductsSlice} from \"../products/productsSlice\";\nimport {productImageSrc} from \"../../app/productUtils\";\nimport {currency} from \"../../app/numberFormats\";\nimport {useEffect, useState} from \"react\";\nimport Loading from \"../../app/Loading\";\n\nfunction OrderProductRow({order, productId}) {\n    const dispatch = useDispatch();\n    const product = useSelector(state => productSelectors.selectById(state, productId));\n    const loading = useSelector(state => selectProductsSlice(state).loading);\n    const loadError = useSelector(state => selectProductsSlice(state).error);\n\n    useEffect(() => {\n        dispatch(fetchAllProducts());\n    });\n\n    function productName() {\n        if (loading) {\n            return (\n                <Placeholder fluid>\n                    <Placeholder.Line/>\n                </Placeholder>\n            );\n        }\n        if (loadError) {\n            return <Message error content={loadError}/>\n        }\n        if (product) {\n            return product.name;\n        }\n    }\n\n    return (\n        <Table.Row>\n            <Table.Cell>\n                <Link to={`/products/${productId}`}>\n                    <Image size='tiny' inline src={productImageSrc(productId)}/>\n                    &nbsp;\n                    {productName()}\n                </Link>\n            </Table.Cell>\n            <Table.Cell>{order.products[productId].quantity}</Table.Cell>\n            <Table.Cell>\n                <span className='price'>{currency.format(order.products[productId].unitPrice)}</span>\n            </Table.Cell>\n        </Table.Row>\n    );\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => {\n    const dispatch = useDispatch();\n    const match = useRouteMatch();\n    const history = useHistory();\n    const [totalPrice, setTotalPrice] = useState(0.0);\n    const order = useSelector(state => orderSelectors.selectById(state, match.params.orderId));\n    const loading = useSelector(state => selectOrdersSlice(state).loading);\n    const loadError = useSelector(state => selectOrdersSlice(state).error);\n\n    useEffect(() => {\n        dispatch(fetchAllOrders());\n    });\n\n    useEffect(() => {\n        if (order && order.products) {\n            const productIds = Object.keys(order.products);\n            if (productIds && productIds.length) {\n                setTotalPrice(productIds.reduce((total, productId) => {\n                    const product = order.products[productId];\n                    return total + product.quantity * product.unitPrice;\n                }, 0.0));\n            }\n        }\n    }, [order]);\n\n    function reStockOrder() {\n        Object.keys(order.products).forEach(productId => {\n            dispatch(modifyInventory({\n                productId: parseInt(productId),\n                quantity: order.products[productId].quantity,\n            }))\n        });\n    }\n\n    function handleCancel() {\n        dispatch(cancelOrder(order.id));\n        reStockOrder();\n        history.replace('/orders');\n    }\n\n    if (loading) {\n        return <Loading what='order'/>;\n    }\n\n    if (loadError) {\n        return <Message error content={loadError}/>;\n    }\n\n    if (order) {\n        return (\n            <Grid celled container>\n                <Grid.Row>\n                    <Grid.Column width={6}>\n                        Order id: <b>{order.id}</b>\n                    </Grid.Column>\n                    <Grid.Column width={4}>\n                        Order date: {order.date}\n                    </Grid.Column>\n                    <Grid.Column width={6}>\n                        Order status: {orderStatusToText(order.status)}\n                    </Grid.Column>\n                </Grid.Row>\n                <Grid.Row>\n                    <Grid.Column width={16}>\n                        <Table striped>\n                            <Table.Header>\n                                <Table.Row>\n                                    <Table.HeaderCell width={10}>Product</Table.HeaderCell>\n                                    <Table.HeaderCell width={3}>Quantity</Table.HeaderCell>\n                                    <Table.HeaderCell width={3}>Unit Price</Table.HeaderCell>\n                                </Table.Row>\n                            </Table.Header>\n                            <Table.Body>\n                                {Object.keys(order.products).map(productId => (\n                                    <OrderProductRow\n                                        key={productId}\n                                        order={order}\n                                        productId={productId}\n                                    />\n                                ))}\n                            </Table.Body>\n                        </Table>\n                    </Grid.Column>\n                </Grid.Row>\n                <Grid.Row>\n                    <Grid.Column width={10}>\n                        Order total:&nbsp;\n                        <b><span className='price'>{currency.format(totalPrice)}</span></b>\n                    </Grid.Column>\n                    <Grid.Column width={6}>\n                        <Button.Group fluid>\n                            <Button icon='arrow alternate circle left outline' content='All orders'\n                                    as={Link}\n                                    to='/orders'/>\n                            <Button\n                                icon='trash alternate'\n                                negative\n                                onClick={() => handleCancel(order.id)} content='Cancel order'\n                            />\n                        </Button.Group>\n                    </Grid.Column>\n                </Grid.Row>\n            </Grid>\n        );\n    }\n\n    return null;\n};","import React from 'react';\nimport './App.css';\nimport {Container} from \"semantic-ui-react\";\nimport Navbar from \"./app/Navbar\";\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport MainContent from \"./app/MainContent\";\nimport ProductDetails from \"./features/products/ProductDetails\";\nimport ProductList from \"./features/products/ProductList\";\nimport Cart from \"./features/cart/Cart\";\nimport Orders from \"./features/orders/Orders\";\nimport OrderDetails from \"./features/orders/OrderDetails\";\n\nexport default function App() {\n    return (\n        <Container>\n            <Navbar/>\n            <Switch>\n                <Route path='/orders/:orderId'>\n                    <OrderDetails/>\n                </Route>\n                <Route path='/orders'>\n                    <Orders/>\n                </Route>\n                <Route path='/cart'>\n                    <Cart/>\n                </Route>\n                <Route path='/main'>\n                    <MainContent/>\n                </Route>\n                <Route path='/products/:productId'>\n                    <ProductDetails/>\n                </Route>\n                <Route path='/products'>\n                    <ProductList/>\n                </Route>\n                <Route path='/'>\n                    <Redirect to='/main'/>\n                </Route>\n            </Switch>\n        </Container>\n    );\n}","import {configureStore} from '@reduxjs/toolkit';\nimport productsReducer, {productsSlice} from \"../features/products/productsSlice\";\nimport ordersReducer, {ordersSlice} from \"../features/orders/ordersSlice\";\nimport cartReducer, {cartSlice} from \"../features/cart/cartSlice\";\n\nexport default configureStore({\n    reducer: {\n        [productsSlice.name]: productsReducer,\n        [ordersSlice.name]: ordersReducer,\n        [cartSlice.name]: cartReducer,\n    },\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'semantic-ui-css/semantic.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './app/store';\nimport {Provider} from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n    <Router>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </Router>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}